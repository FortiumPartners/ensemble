# ensemble-vnext Technology Stack

Technology stack definition for Claude Code Plugin Development.

---

## Primary Platform

**Claude Code Plugin SDK**

- Distribution: Claude Code marketplace
- Runtime: Vendored `.claude/` directory
- Execution contexts: Local CLI, Claude Code Web

---

## Core Technologies

### Languages

| Purpose | Language | Version |
|---------|----------|---------|
| Hook development | JavaScript/Node.js | 18+ |
| Router hook | Python | 3.x |
| Integration tests | Shell/BATS | 1.9+ |
| Prompts, skills, agents | Markdown | N/A |
| Configuration | JSON/YAML | N/A |

### Frameworks

| Category | Framework | Version |
|----------|-----------|---------|
| Testing (JS) | Jest | ^29.7.0 |
| Testing (Shell) | BATS | ^1.9.0 |
| Testing (Python) | pytest | ^7.0.0 |

### Database

N/A - This is a plugin development project without database requirements.

---

## Development Tools

### Package Management

| Tool | Purpose |
|------|---------|
| npm | JavaScript dependencies |
| pip/uv | Python dependencies |

### Testing

| Type | Framework | Config |
|------|-----------|--------|
| Unit (JS) | Jest | jest.config.js |
| Unit (Python) | pytest | pytest.ini |
| Integration | BATS | test/integration/ |
| Eval Framework | Custom | test/evals/framework/ |

### Code Quality

| Tool | Purpose | Config |
|------|---------|--------|
| Prettier | Markdown, JSON, YAML formatting | .prettierrc |
| ESLint | JavaScript linting | .eslintrc |
| ShellCheck | Shell script linting | N/A |

---

## Infrastructure

### Hosting

| Service | Purpose |
|---------|---------|
| GitHub | Source control, CI/CD |

### CI/CD

| Platform | Purpose |
|----------|---------|
| GitHub Actions | Automated testing |

---

## Runtime Dependencies

### Required

- Claude Code CLI (latest)
- Node.js 18+ (for hooks)
- Git 2.x+ (for version control)
- Python 3.x (for router hook)

### Optional

- jq (for JSON parsing in scripts)
- OpenTelemetry (for execution tracing)

---

## MCP Integrations

| Server | Purpose |
|--------|---------|
| Context7 | Documentation retrieval |
| Playwright MCP | E2E testing (exclusive) |

Additional MCP servers are project-configurable via `.mcp.json`.

---

## Skill Categories

Skills are compiled from the plugin library based on this stack definition.

### Core Skills (Always Included)

- Prompt engineering patterns
- Claude Code plugin development
- Testing strategies for non-deterministic systems

### Stack-Specific Skills

- jest - JavaScript testing
- pytest - Python testing
- developing-with-python - Python patterns
- developing-with-typescript - TypeScript patterns

---

## File Structure Reference

```
.claude/
  agents/       # 12 streamlined subagents
  commands/     # Workflow commands
  hooks/        # Hook executables
  skills/       # Compiled skills
  rules/        # constitution.md, stack.md, process.md
  settings.json # Committed configuration

packages/
  core/         # Templates, commands, hooks
  full/         # Complete plugin distribution
  permitter/    # Permission hook
  router/       # Routing hook
  skills/       # Skill library

docs/
  PRD/          # Product Requirements Documents
  TRD/          # Technical Requirements Documents

test/
  integration/  # BATS integration tests
  evals/        # Eval framework

.trd-state/     # Implementation tracking (git-tracked)
```

---

*This stack definition is maintained by the user and drives skill selection during project initialization.*
*Generated by /init-project on 2026-01-22*
